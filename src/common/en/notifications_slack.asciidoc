// -*- coding: utf-8 -*-
include::global_attr.adoc[]
= Notifications via Slack
:revdate: 2025-02-13
:title: Notifications via Slack
:description: You can have {CMK} send notifications to the instant messaging service Slack. Find out here how to connect.

{related-start}
xref:notifications#[Notifications]
{related-end}


With the link:https://slack.com/[Slack^] messenger you can conveniently receive notifications via a webhook.
This works on self-hosted or rented servers, as well as via the free public Slack service.


[#config_slack]
== Configuring Slack

To activate webhooks and create a new webhook, you must first create a Slack app.
Log in to Slack and create a _Workspace_.
Then proceed as follows:

. Create a new app via link:https://api.slack.com/messaging/webhooks[this link^] using the Slack API.
. Assign any name you like and choose your workspace.
. In the next dialog choose [.guihint]#Incoming Webhook# as the app function.
. Next activate webhooks by setting the switch to [.guihint]#on#.
. Create the webhook with the [.guihint]#Add New Webhook to Workspace# button.
. Finally, set the channel (group) where the app should post to, and confirm the rights request.

For testing purposes, on completion you will receive a `curl` statement which posts _Hello World_ to the desired channel.
Copy the webhook URL and switch to {CMK}.


[#config_checkmk]
== Configuring {CMK}

You have already learned how to set up {CMK} notifications in general in the article on xref:notifications#[notifications].

In {CMK} it is now sufficient to specify the URL copied above:

ifdef::onprem[]
. Create a new notification rule with [.guihint]#Setup > Events >  Notifications > Add notification rule#.
. For the [.guihint]#Notification method (plug-in) > Notification effect# choose [.guihint]#Slack or Mattermost#.
. Use [.guihint]#Create# to open the form for entering the parameters.
. Under [.guihint]#Parameter properties#, enter the copied webhook URL, which must begin with `https://`:
+
image::notifications_slack_parameter.png[alt="The parameter settings for the notification method for Slack and Mattermost."]
endif::[]
ifdef::saas[]
. Create a new notification rule with [.guihint]#Setup > Events > Notifications > Add rule#.
. For the [.guihint]#Notification Method# choose [.guihint]#Slack or Mattermost#.
. Enter the copied webhook URL:
+
image::notifications_slack.png[alt="The notification method settings for Slack and Mattermost."]
+
endif::[]
Instead of entering the URL directly here, you can also read it from the xref:password_store#[password store] - provided it was previously stored there.

Optionally, you may specify URL prefixes to control links on your {CMK} GUI within the notification.

ifdef::onprem[]
Click [.guihint]#Save# to return to the main part of the notification configuration.

When using the following [.guihint]#Recipient# section, note the following two points:
endif::[]

ifdef::saas[]
When using the following [.guihint]#Contact selection# box, note the following two points:
endif::[]

include::include_ticketsystem.asciidoc[]

You can find out how to test the new notification method in the article on xref:notifications#notification_testing[notifications].
