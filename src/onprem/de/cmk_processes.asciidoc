// -*- coding: utf-8 -*-
// IGNORE crontab liveproxyd npcd ui
// SKIPCOMMITS
include::global_attr.adoc[]
= Instanzdienste
:revdate: draft
:title: Checkmk unter der Haube - Dienste einer {CMK}-Instanz im Überblick
:description: Für den Betrieb einer {CMK}-Instanz werden viele einzelne Dienste benötigt, die wir hier vorstellen.


{related-start}
xref:intro_setup#[{CMK} aufsetzen]
xref:omd_basics#[Instanzen mit OMD verwalten]
xref:wato_rules#[Regeln]
{related-end}

[IMPORTANT]
====
Dies ist ein früher Artikelentwurf -- Work in Progress! 
====

[#intro]
== Einleitung

[{shell}]
----
{c-omd} omd status

jaeger:             [green]#running#
agent-receiver:     [green]#running#
mkeventd:           [green]#running#
liveproxyd:         [green]#running#
mknotifyd:          [green]#running#
rrdcached:          [green]#running#
redis:              [green]#running#
automation-helper:  [green]#running#
ui-job-scheduler:   [green]#running#
cmc:                [green]#running#
apache:             [green]#running#
dcd:                [green]#running#
stunnel:            [green]#running#
xinetd:             [green]#running#
crontab:            [green]#running#
rabbitmq:            [green]#running#
---------------------------
Overall state:      [green]#running#
----

[#siteservices]
== Instanzdienste - Tabelle

[cols="~,~,~,~,40",options="header"]
|===
|Dienst |{CRE} |kommerzielle Editionen |Standard |Beschreibung
|agent-receiver |Ja |Ja |Ja |Endpunkt für die xref:wato_monitoringagents#agents[Kommunikation mit dem Agenten]
|mkeventd |Ja |Ja |Ja |Dienst zur Verarbeitung von xref:ec#[Ereignissen]
|liveproxyd |Ja |Ja |Ja |Schnittstelle für xref:livestatus#[Statusdaten]
|mknotifyd |Nein |Ja |Nein |xref:notifications#[Benachrichtigungs-Spooler] für asynchrone Zustellung und verteilte Umgebungen
|rrdcached |Ja |Ja |Ja |xref:graphing#rrds[RRD-Cache-Daemon] für die Zwischenspeicherung von Messwerten
|redis |Ja |Ja |Ja |Im-Memory-Datenbank als Zwischenspeicher
|npcd |Ja |Nein |Ja |link:https://linux.die.net/man/8/npcd[Nagios Performance C Daemon] zur Verarbeitung von Nagios-Performance-Daten in der {CRE}
|automation-helper |Ja |Ja |Ja |Hilfsdienst zur Performance-Steigerung bei GUI- und Rest-API-Anfragen
|ui-job-scheduler |Nein |Ja |Nein |Scheduler für asynchrone Aufgaben der Web-Oberfläche
|cmc |Nein |Ja |Ja |xref:cmc#[{CMK} Micro Core] -- Monitoring-Kern in den kommerziellen Editionen
|nagios |Ja |Nein |Ja |Monitoring-Kern der {CRE} und alter Installationen kommerzieller Editionen (kann xref:cmc_migration#[umgestellt] werden)
|dcd |Nein |Ja |Ja |xref:dcd#[Dynamic Configuration Daemon] zur automatischen Verwaltung flüchtiger Hosts (etwa Container)
|apache |Ja |Ja |Ja |Webserver
|stunnel |Ja |Ja |Nein |Baut einen xref:livestatus#[Tunnel] von einem lokalen, unverschlüsselten Livestatus-Port zu einem entfernten verschlüsselten auf
|xinetd |Ja |Ja |Nein |Dienst zur Bereitstellung der Agentenausgabe
|crontab |Ja |Ja |Ja |crontab-Datei für interne Aufgabenplanung
|jaeger  |Nein |Ja |Nein |Analyse-Werkzeug für Traces, empfangen via OpenTelemetry -- für internes Bug-Fixing (siehe link:https://checkmk.com/werk/16565[Werk 16565])
|RabbitMQ |Nein |Ja |Nein |Message-Broker
|===

