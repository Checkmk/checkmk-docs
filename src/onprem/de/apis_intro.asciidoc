// *** coding: utf-8 **-
// IGNORE tbd
// NONASCII
include::global_attr.adoc[]
= Übersicht der API-Ressourcen
:title: Übersicht der API-Ressourcen
:description: {CMK} bietet mehrere APIs für verschiedene Zwecke sowie dazugehörige Artikel und Referenzen. Hier finden Sie eine Übersicht sowie Tipps zur Navigation.

{related-start}
xref:devel_intro#[Erweiterungen für {CMK} entwickeln]
xref:rest_api#[Die {CMK} REST-API]
{related-end}


[#intro]
== Einleitung

{CMK} bietet mittlerweile eine ganze Menge unterschiedlicher Schnittstellen, allen voran die REST-API, mit der Sie sehr viel von dem erledigen können, was auch über die Weboberfläche möglich ist.
Darüber hinaus gibt es jedoch noch APIs für xref:glossar#check_plugin[Check-Plugins,] die HW-/SW-Inventur, die xref:glossar#agent_bakery[Agentenbäckerei] und so weiter.
Zu all diesen Schnittstellen gibt es Artikel, Referenzen und weitere Ressourcen, verteilt über dieses Handbuch, die Website und {CMK} selbst.

In diesem Artikel verschaffen wir Ihnen einen Überblick über alle Schnittstellen und Ressourcen und geben einige Tipps zum generellen Umgang.
Viele Links in diesem Artikel sind redundant, da die Informationen drei unterschiedliche Herangehensweisen oder Fragen bedienen sollen: 

- Welche APIs bietet {CMK}?
- Welche API-relevanten Artikel finden sich im Handbuch?
- Welche API-relevanten Ressourcen gibt es in {CMK}?

Die wichtigste Schnittstelle ist fraglos die xref:rest_api#[{CMK} REST-API], über die sich fast alles programmatisch erledigen lässt, was auch über die Weboberfläche geht.

[TIP]
====
Einen schnellen, praktischen Einstieg in die REST-API bietet die interaktive REST-API GUI.
Hier können Sie vorgegebene Abfragen absenden und optional auch manipulieren.
Sie finden die GUI in {CMK} selbst über [.guihint]#Help > Developer resources > REST API interactive GUI#.
====

[{image-border}]
.Interaktive Weboberfläche der REST-API
image::restapi_swaggerui.png[alt="REST-API GUI mit Beispiel zum Erstellen eines Hosts."]

Die zweite große Schnittstelle sind die _Plugin-APIs_ für die Entwicklung eigener Erweiterungen.
Je nach Erfahrung können Sie hier mit unserem xref:devel_intro#[Einführungsartikel] starten oder mit der Referenz, die Sie wieder direkt in {CMK} selbst finden:
[.guihint]#Help > Developer resource > Plug-in API references#.

[{image-border}]
.Referenz der Plugin-APIs samt Versionshinweisen für die Check-API
image::devel_cpi_checkapi_doc.png[alt="Bild der API-Referenz mit Versionshinweisen zur Check-API."]

[TIP]
====
Auch ohne laufende {CMK}-Instanz können Sie sich die Plugin-API-Dokumentation als Kopie auf link:https://docs.checkmk.com/plugin-api/{gitbranch}/[docs.checkmk.com/plugin-api^] ansehen.
====

In den Tabellen unten finden Sie diese APIs, aber auch weniger prominente Schnittstellen, wie etwa für das HW-/SW-Inventar, Sub-Schnittstellen für die Check-Plugin-Entwicklung, wie etwa die explizite Graphing-API, sowie _Quasi-Schnittstellen,_ wie das Ausgabeformat von xref:localchecks#[lokalen Checks], der simplen, Skript-basierten Vorstufe ausgewachsener Plugins.


[#apis]
== APIs in {CMK}
[cols="12,18,40,~",options="header"]
|===
|API |Handbuch |Web| Beschreibung

|REST-API
|xref:rest_api#[Die {CMK} REST-API]
|link:https://checkmk.atlassian.net/wiki/spaces/KB/pages/9473812/REST-API+code+examples[REST-API-Code-Beispiele^], link:https://checkmk.com/videos/en/ep-46-working-with-checkmk-rest-api[Video-Tutorial^]
|Funktional eine Teilmenge der Weboberfläche.

|Check-API
|xref:devel_check_plugins#[Agentenbasierte Check-Plugins entwickeln]
|In {CMK}: [.guihint]#Help > Developer resources > Plug-in API references > Agent based ("Check API")#, +
der gleiche Inhalt auf link:https://docs.checkmk.com/plugin-api/{gitbranch}/cmk.agent_based[docs.checkmk.com/plugin-api^], +
link:https://exchange.checkmk.com/[{CMK} Exchange (Beispiele)^]
|Programmieren von Check-Plugins.

|Bakery-API
|xref:bakery_api#[Die Bakery-API]
|In {CMK}: [.guihint]#Help > Developer resources > Plug-in API references > Bakery#, +
der gleiche Inhalt auf link:https://docs.checkmk.com/plugin-api/{gitbranch}/cmk.base.plugins.bakery.bakery_api[docs.checkmk.com/plugin-api^].
|Einbinden von Check-Plugins in die Agentenbäckerei.

// DCD-API hat ab 2.5.0 eine neue URL: cmk.cee.dcd.plugins.connectors.connectors_api > nonfree/pro/cmk.nonfree.pro.dcd.plugins.connectors.connectors_api. Redirect am 04.12.2025 eingerichtet.
|DCD-API
|xref:dcd#[Dynamische Host-Verwaltung]
|In {CMK}: [.guihint]#Help > Developer resources > Plug-in API references > Dynamic configuration connector#, +
der gleiche Inhalt auf link:https://docs.checkmk.com/plugin-api/{gitbranch}/cmk.cee.dcd.plugins.connectors.connectors_api[docs.checkmk.com/plugin-api^].
|Eigene Verbindungen für die dynamische Host-Verwaltung mit dem Dynamic Configuration Daemon (DCD).

|Graphing-API
|xref:devel_check_plugins#metrics_advanced[Darstellung von Metriken anpassen] im Artikel über agentenbasierte Check-Plugins
|In {CMK}: [.guihint]#Help > Developer resources > Plug-in API references > Graphing#, +
der gleiche Inhalt auf link:https://docs.checkmk.com/plugin-api/{gitbranch}/cmk.graphing[docs.checkmk.com/plugin-api^].
|Einbinden von xref:glossar#metric[Metriken,] Graphen, Perf-O-Metern.

|Rulesets-API
|xref:devel_check_plugins#rule_set[Regelsätze für Check-Parameter] im Artikel über agentenbasierte Check-Plugins
|In {CMK}: [.guihint]#Help > Developer resources > Plug-in API references > Rulesets#, +
der gleiche Inhalt auf link:https://docs.checkmk.com/plugin-api/{gitbranch}/cmk.rulesets[docs.checkmk.com/plugin-api^].
|Entwickeln eigener xref:glossar#rule_set[Regelsätze].

|Server-side-calls-API
|xref:devel_special_agents#[Spezialagenten entwickeln]
|In {CMK}: [.guihint]#Help > Developer resources > Plug-in API references > Server-side calls#, +
der gleiche Inhalt auf link:https://docs.checkmk.com/plugin-api/{gitbranch}/cmk.server_side_calls[docs.checkmk.com/plugin-api^].
|Entwickeln von xref:glossar#active_check[aktiven Checks] und xref:glossar#special_agent[Spezialagenten].

|HW/SW-API
|xref:inventory#external[Web-API für HW-/SW-Inventurdaten]
|n.a.
|Web-API zur Abfrage von Inventurdaten.

|Livestatus
|xref:livestatus#[Statusdaten abrufen via Livestatus], xref:livestatus_references#[Livestatus Befehlsreferenz]
|n.a.
|Direkter Abruf von Statusdaten via Livestatus Query Language (LQL).

|Event-Console-Schnittstelle|
xref:ec#statusinterface[Die Statusschnittstelle] der Event Console
|n.a.
|Zugriff auf interne Status und Ausführen von Befehlen via Unix-Socket.

|Lokale Checks|
xref:localchecks#[Lokale Checks]
|n.a.
|"Mini-Schnittstelle" für eigene, Skript-basierte Checks.
|===


[#docs]
== Artikel im Handbuch

[cols="12,28,~",options="header"]
|===
|API-Bereich |Handbuch |Beschreibung 
.5+|Automatisierung |xref:rest_api#[Die Checkmk REST-API] |Beschreibung der REST-API sowie deren Dokumentation und Nutzungsmöglichkeiten.
|xref:livestatus#[Statusdaten abrufen via Livestatus] |Die Daten-Schnittstelle für Host- und Service-Informationen in der Übersicht.
|xref:livestatus_references#[Livestatus-Befehlsreferenz] |Alle Tabellen, Header, Filter und Operatoren.
|xref:inventory#external[Web-API für HW-/SW-Inventurdaten] |Beschreibung der Inventar-eigenen Web-API für den externen Zugriff.
|xref:ec#statusinterface[Die Statusschnittstelle] der Event Console |Per Unix-Socket und über eine Teilmenge des Livestatus-Protokolls können Daten von der Event Console ausgelesen und Befehle abgesetzt werden.
.3+|Programmierung |xref:devel_intro#[Erweiterungen für {CMK} entwickeln] |Übersichtsartikel mit allen Möglichkeiten für Erweiterungen und Links zu weiterführenden Informationen.
|xref:devel_check_plugins#[Agentenbasierte Check-Plugins entwickeln] |Ausführliche Beschreibung zur Entwicklung eines Check-Plugins.
|xref:devel_check_plugins_snmp#[SNMP-basierte Check-Plugins entwickeln] |Ausführliche Beschreibung zur Entwicklung eines Check-Plugins für SNMP-Daten.
|===


[#resources]
== Ressourcen in Checkmk

[cols="40,~",options="header"]
|===
|In {CMK} |Beschreibung
|[.guihint]#Help > Developer resources > Plug-in API references# |Auf Sphinx basierende Referenz aller APIs, die für die Entwicklung von Check-Plugins relevant sind.
|[.guihint]#Help > Developer resources > REST API documentation# |Auf ReDoc/OpenAPI basierende Referenz für alle Check-relevanten Abfragen, inklusive Code-Beispielen für Requests (Python), Urllib (Python), Httpie und Curl.
|[.guihint]#Help > Developer resources > REST API interactive GUI# |Interaktive Weboberfläche zum Testen aller API-Endpunkte, inklusive Rückmeldungen direkt auf der Seite.
|[.guihint]#Help > Developer resources > Plug-in API references > Agent based ("Check API")# |Im Bereich [.guihint]#Version 2 > New in this version# finden Sie wichtige Informationen für die Migration alter Plugins auf die aktuelle API-Version.
|===


[#web]
== Ressourcen im Web

[cols="40,~",options="header"]
|===
|Ressource |Beschreibung
|link:https://checkmk.com/videos/en/ep-46-working-with-checkmk-rest-api[Working with the {CMK} REST API^] |Video-Tutorial (in Englisch) mit praktischen Beispielen für den Einsatz der REST-API, etwa zum Setzen von Wartungszeiten.
|link:https://checkmk.atlassian.net/wiki/spaces/KB/pages/9473812/REST-API+code+examples[REST-API-Code-Beispiele^] |Curl-Beispiele in der {CMK} Knowledge Base für konkrete, beispielsweise UND-verknüpfte Abfragen.
|link:https://exchange.checkmk.com/[{CMK} Exchange^] |Im {CMK}-Plugin-Store finden Sie viele praktische Implementierungen der APIs samt Quellcode.
|===
