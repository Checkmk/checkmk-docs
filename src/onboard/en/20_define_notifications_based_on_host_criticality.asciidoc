// -*- coding: utf-8 -*-
// IGNORE
include::global_attr.adoc[]
= Define notifications based on host criticality
:revdate: 2024-07-25
:title: Define notifications based on host criticality
:description: Checkmk can trigger notifications based on the criticality of a host. This guide shows you, how its done.


[#create_notification_rule]
== Create notification rule

The amount of superfluous notifications sent out by a monitoring system is ideally 0 (in words: zero). In order to get there you, one important step in to configure the actual criticality of your hosts and services and sent notification accordingly.

++++1. Click *Setup > Events > Notifications* and then click *link:/pass:[$$SITE_NAME$$]/check_mk/index.py?start_url=%2Fpass:[$$SITE_NAME$$]%2Fcheck_mk%2Fwato.py%3Ffolder%3D%26mode%3Dnotification_rule[Add rule]*.

++++2. Pick the *Notification Method* of your liking. Details on how to configure each of them is available in the link:https://docs.checkmk.com/saas/en/notifications.html[Checkmk Cloud User Guide^].

++++3. In the *Conditions* box, check *Match host tags*.

++++4. In the section *Tags*, click `ignore`, change it to `is` and select `Business critical` in the new box that pops up. Click *Save*.


[#assign_criticality]
== Assign criticality to hosts

The criticality of a host is assigned in the host's properties.

++++1. Click *Setup > Hosts > Hosts* and then click the pen icon in front of the host you want to assign a criticality to.

++++2. In the *Custom attributes* box, check *Criticality*, set it to *Business critical* and click *Save & view folder*.

Alternatively, you can assign a certain criticality to entire folders of hosts (including all subfolders). In order to do so, move your cursor into the upper portion of any folder and click the pen icon. Proceed as before.


[#activate_changes]
== Activate changes

++++1. Click the yellow button on the top right of each configuration environment page with the number of pending changes that are not yet activated:

image::onboarding_button_pending_changes.png[alt="Button on 'Setup' pages with number of pending changes."]

This opens the *link:/pass:[$$SITE_NAME$$]/check_mk/index.py?start_url=%2Fpass:[$$SITE_NAME$$]%2Fcheck_mk%2Fwato.py%3Fmode%3Dchangelog[Activate pending changes]* page.

However, the _Onboarding Guide_ you are currently reading is covering the top right corner and thus the yellow button.
So, close the Guide, click the yellow button and open the Guide again.

++++2. Click *Activate on selected sites*.

Checkmk initially saves all changes you make in the *Setup* menu in a temporary _configuration environment_.
Only by activating the pending changes these will be transferred to the _monitoring environment_.
The monitoring environment is accessed via the *Monitor menu*.


This step concludes the topic *Define notifications based on host criticality*.
If you would like to have this topic described in more detail and with background information refer to the link:https://docs.checkmk.com/saas/en/notifications.html[Checkmk Cloud User Guide^].

