// -*- coding: utf-8 -*-
// IGNORE
include::global_attr.adoc[]
= Define responsibility and visibility for a host
:revdate: 2024-07-22
:title: Define responsibility and visibility for a host
:description: Responsibility and visibility for a host is defined via contact groups in Checkmk.


[#create_contact_group]
== Create a contact group

In order to assign the responsibility and visibility of a host to certain users, you have to make them a contact for the host in question.
This ist best done in bulk with so-called contact group.

++++1. Click *Setup > Users > Contact groups* and then click *link:/pass:[$$SITE_NAME$$]/check_mk/index.py?start_url=%2Fpass:[$$SITE_NAME$$]%2Fcheck_mk%2Fwato.py%3Ffolder%3D%26mode%3Dedit_contact_group[Add group].

++++2. Assign a *Name* and an *Alias* that fits the purpose of this group and click *Save*. As an example, create a contact group for all users who are responsilbe for Windows servers (Name: `win` - Alias: `Windows server`).


[#assign_user]
== Assign user to contact group

The contact group of a user is assigned in the profile of the user.

++++1. Click *Setup > Users  > Users* and then click the pen icon in front of the user you want to add to a contact group.

++++2. In the *Contact Groups* box, enable the respective checkbox and click *Save*.


[#add_host_by_rule]
== Assign host to contact group by rule

You can assign hosts to a contact group by bulk with a rule.

++++1.  Click *Setup > Hosts > Host monitoring rules > Assignment of hosts to contact groups* and the click *link:/pass:[$$SITE_NAME$$]/check_mk/index.py?start_url=%2Fpass:[$$SITE_NAME$$]%2Fcheck_mk%2Fwato.py%3Fcsrf_token%3Da3f87444-906c-497a-bebc-4b2f8168168b%26filled_in%3Dnew_rule%26ruleset_back_mode%3Drulesets%26rule_folder%3D%26varname%3Dhost_contactgroups%26mode%3Dnew_rule%26folder%3D%26_new_dflt_rule%3DSET[Add rule]*.

++++2. In the *Assignment of hosts to contact groups* select the group you created before.

++++3. In our example, we wanted this contact group to contain all Windows servers. So click in the *Condition* box, click *Add to condition*, select the label `cmk/os_family:windows` and click *Save*.

This way you have assigned all current and future host that have this label automatically to this contact group.


[#add_host_manually]
== Assign host to contact group directly

You can also assign any host to a contact group directly.

++++1. Click *Setup > Hosts > Hosts* to open the *Main* folder page and then click the pen in front of the host or on the folder you want to assign to a group.

++++2. In the *Basic settings* box, click the check box after *Permissions*.

++++3. Click the contact group you want to assign and click the chevron icon to add it to the list *Selected*.

++++4. Click the check box *Add these contact groups to the host* and click *Save & view folder*.

Alternatively, you can assign entire folders of hosts (including all subfolders) to a contact group. In order to do so, move your cursor into the upper portion of any folder and click the pen icon. Proceed as before.


[#activate_changes]
== Activate changes

++++1. Click the yellow button on the top right of each configuration environment page with the number of pending changes that are not yet activated:

image::onboarding_button_pending_changes.png[alt="Button on 'Setup' pages with number of pending changes."]

This opens the *link:/pass:[$$SITE_NAME$$]/check_mk/index.py?start_url=%2Fpass:[$$SITE_NAME$$]%2Fcheck_mk%2Fwato.py%3Fmode%3Dchangelog[Activate pending changes]* page.

However, the _Onboarding Guide_ you are currently reading is covering the top right corner and thus the yellow button.
So, close the Guide, click the yellow button and open the Guide again.

++++2. Click *Activate on selected sites*.

Checkmk initially saves all changes you make in the *Setup* menu in a temporary _configuration environment_.
Only by activating the pending changes these will be transferred to the _monitoring environment_.
The monitoring environment is accessed via the *Monitor menu*.


This step concludes the topic *Define responsibility and visibility for a host*.
If you would like to have this topic described in more detail and with background information refer to the link:https://docs.checkmk.com/saas/en/wato_user.html#contact_groups[Checkmk Cloud User Guide^].

