// -*- coding: utf-8 -*-
include::global_attr.adoc[]
= Installation on SUSE Linux Enterprise Server
:revdate: 2022-05-17
:title: Installation on SUSE Linux Enterprise Server
:description: Learn how to install {CMK} on the Linux distribution of SUSE Linux Enterprise Server (SLES).

{related-start}
xref:intro_welcome#[Beginner's guide]
xref:checkmk_getting_started#[Getting started with monitoring]
xref:introduction_virt1#[Installation of a virtual appliance]
xref:install_packages#[Basic information on the installation of {CMK}]
{related-end}


== Setting up the package sources

{CMK} requires a number of software packages from your Linux distribution.
Third-party software is not required.
In order that all necessary packages can be subsequently installed, a correct configuration of the software sources is necessary.

The setup procedure varies depending on the version of SUSE Linux Enterprise Server (SLES) being used.


[#sles12]
=== SLES 12

With SLES 12 some software components, eg. PHP, which is required by OMD, are stored in so-called modules.
In order to be able to access SLES 12's PHP packages, the following steps need to be taken:

* link:https://documentation.suse.com/sles/12-SP4/html/SLES-all/cha-planning.html#sec-planning-registering[Register SLES 12^]
* link:https://documentation.suse.com/sles/12-SP4/html/SLES-all/cha-add-ons.html#sec-add-ons-installation[Install the 'Web and Scripting Module'^]


[#sles15]
=== SLES 15

With SLES 15, in addition to the 'Web and Scripting Module', you also have to install the 'Development Tools' and the 'SUSE Package Hub 15' modules:

* link:https://documentation.suse.com/sles/15-SP1/html/SLES-all/cha-register-sle.html[Register SLES 15 and Manage Modules^]


== Download the appropriate packages

If you have a subscription, you will find in the link:https://customer.checkmk.com/[customer portal^] a suitable RPM or DEB package for your distribution for every available xref:cmk_versions#[{CMK} version].
For a free test or small installations of {CMK} you can use our link:https://checkmk.com/de/download[free editions^].
These don't need in consequence any subscription.
You are still able to do an xref:update#updatedemo[upgrade] any time to one of the {CEE}.

Consider when selecting a package:

* Choose one of the editions.
If you're unsure, you can get an overview to the differences of the link:https://checkmk.com/product/editions[editions^].
* Choose the {CMK} version, the distribution and finally the version of the selected distribution.
* We recommend the _latest stable {CMK} version_.
If you need an older version anyway, you can find these in the link:https://checkmk.com/download/archive[download archive^].
* The name and version of your distribution must be strictly identical.

After you downloaded the package to your machine, you need to copy the file to the target Linux system where {CMK} needs to be installed.
You can do that for example with the programm _WinSCP_ or -- if you are able to use SSH connections -- with the commandline tool `scp`,
in the following example for the {CRE} and SLES 15:

[{shell}]
----
{c-root} scp check-mk-raw-2.1.0p1-sles15-38.x86_64.rpm root@mymonitoring.mydomain.org:
----


[#signed]
== Signed-package installation

All packages are signed using link:https://gnupg.org[GnuPG^].
Through the use of this signature, on the one hand it can be verified whether the package really is from {CMK}, and on the other hand it can be verified that the package is complete.

So that these signed packages can be installed in the usual way, one time only you will need to import our public key so that the signature will be trusted.
First, load the key directly from our website:

[{shell-raw}]
----
{c-root} wget https://download.checkmk.com/checkmk/Check_MK-pubkey.gpg
----

////
Alternatively, the key can also be obtained from link:http://keys.gnupg.net[gnupg.net^]:

[{shell}]
----
{c-root} gpg --keyserver keys.gnupg.net --recv-keys 434DAC48C4503261
{c-root} gpg --armor --export 434DAC48C4503261 > Check_MK-pubkey.gpg
----
////

Then import the key to the list of trusted signatures.
For SLES the `rpm` tool is required:

[{shell}]
----
{c-root} rpm --import Check_MK-pubkey.gpg
----

Once the key has been imported, you can verify the package can install it the usual way using `zypper install` afterwards:

[{shell}]
----
{c-root} rpm -K check-mk-raw-2.1.0p1-sles15-38.x86_64.rpm
check-mk-raw-2.1.0p1-sles15-38.x86_64.rpm: digests signatures OK
{c-root} zypper install check-mk-raw-2.1.0p1-sles15-38.x86_64.rpm
----


== Final test

After the successful installation of {CMK}, and all dependencies, you will have access to the `omd` command.
With this command you are able to create and manage xref:omd_basics#[monitoring sites].
You can request the installed version to verify your installation:

[{shell}]
----
{c-root} omd version
OMD - Open Monitoring Distribution Version 2.1.0p1.cre
----
